<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
<h1>Add new car</h1>
<p>
<form th:object="${carDto}" th:action="@{/add-car}" method="post" >
    Make:
    <br>
    <input type="text" th:field="*{make}" required/>
    <div th:if="${#fields.hasErrors('make')}" th:class="'alert alert-danger'">

        <ul>
            <li th:each="err : ${#fields.errors('make')}" th:text="${err}"></li>
        </ul>

    </div>
    <br>
    <br>


    Description:
    <br>
    <input type="text" th:field="*{description}" required/>
    <br>
    <br>
    Licence Plate:

    <br>
    <input type="text" th:field="*{licencePlate}" required/>
    <div th:if="${#fields.hasErrors('licencePlate')}" th:class="'alert alert-danger'">

        <ul>
            <li th:each="err : ${#fields.errors('licencePlate')}" th:text="${err}"></li>
        </ul>

    </div>
    <br>
    <br>
   Reason for service:
    <br>
    <select th:field="*{category}" id="Category" required>
        <option th:each="categoryOpt : ${T(com.infoshareacademy.domain.Category).values()}"
                th:value="${categoryOpt.name()}" th:text="${categoryOpt.categoryName}"></option>
    </select>
    <br>
    <br>
    <div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
        <p th:text="#{form.error}">
            <br>
            <br>
        </p>
    </div>
        <button>Add Car to Service queue</button>
</form>
    <br>
    <br>
    <a th:href="@{/main}">
    <button>Main menu</button>
    </a>
</p>
<nav>
    <div>
        <a th:href="@{/}">
            <button type="button" th:text="#{project.return}"></button>
        </a>
    </div>
</nav>
</body>
</html>